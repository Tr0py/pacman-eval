remove /mnt/pmem0/log_kvs
-- The C compiler identification is GNU 9.4.0
-- The CXX compiler identification is GNU 9.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- SET USE_NUMA_NODE 0
-- SET INDEX_TYPE 1
-- SET IDX_PERSISTENT ON
-- SET LOG_PERSISTENT ON
-- SET REDUCE_PM_ACCESS ON
-- SET HOT_COLD_SEPARATE ON
-- SET GC_SHORTCUT ON
-- SET BATCH_COMPACTION ON
-- SET ETC_50_50 ON
-- SET FIRST_TOUCH ON
-- Will build and evaluate other systems
-- Setting build type to 'Release'
CMake Warning at benchmarks/CMakeLists.txt:2 (find_package):
  By not providing "Findbenchmark.cmake" in CMAKE_MODULE_PATH this project
  has asked CMake to find a package configuration file provided by
  "benchmark", but CMake did not find one.

  Could not find a package configuration file provided by "benchmark" with
  any of the following names:

    benchmarkConfig.cmake
    benchmark-config.cmake

  Add the installation prefix of "benchmark" to CMAKE_PREFIX_PATH or set
  "benchmark_DIR" to a directory containing one of the above files.  If
  "benchmark" provides a separate development package or SDK, be sure it has
  been installed.


-- Failed to find LLVM FileCheck
-- Found Git: /usr/bin/git (found version "2.25.1") 
-- git version: v1.6.0 normalized to 1.6.0
-- Version: 1.6.0
-- Performing Test HAVE_CXX_FLAG_STD_CXX11
-- Performing Test HAVE_CXX_FLAG_STD_CXX11 - Success
-- Performing Test HAVE_CXX_FLAG_WALL
-- Performing Test HAVE_CXX_FLAG_WALL - Success
-- Performing Test HAVE_CXX_FLAG_WEXTRA
-- Performing Test HAVE_CXX_FLAG_WEXTRA - Success
-- Performing Test HAVE_CXX_FLAG_WSHADOW
-- Performing Test HAVE_CXX_FLAG_WSHADOW - Success
-- Performing Test HAVE_CXX_FLAG_WERROR
-- Performing Test HAVE_CXX_FLAG_WERROR - Success
-- Performing Test HAVE_CXX_FLAG_WSUGGEST_OVERRIDE
-- Performing Test HAVE_CXX_FLAG_WSUGGEST_OVERRIDE - Success
-- Performing Test HAVE_CXX_FLAG_PEDANTIC
-- Performing Test HAVE_CXX_FLAG_PEDANTIC - Success
-- Performing Test HAVE_CXX_FLAG_PEDANTIC_ERRORS
-- Performing Test HAVE_CXX_FLAG_PEDANTIC_ERRORS - Success
-- Performing Test HAVE_CXX_FLAG_WSHORTEN_64_TO_32
-- Performing Test HAVE_CXX_FLAG_WSHORTEN_64_TO_32 - Failed
-- Performing Test HAVE_CXX_FLAG_FSTRICT_ALIASING
-- Performing Test HAVE_CXX_FLAG_FSTRICT_ALIASING - Success
-- Performing Test HAVE_CXX_FLAG_WNO_DEPRECATED_DECLARATIONS
-- Performing Test HAVE_CXX_FLAG_WNO_DEPRECATED_DECLARATIONS - Success
-- Performing Test HAVE_CXX_FLAG_WNO_DEPRECATED
-- Performing Test HAVE_CXX_FLAG_WNO_DEPRECATED - Success
-- Performing Test HAVE_CXX_FLAG_WSTRICT_ALIASING
-- Performing Test HAVE_CXX_FLAG_WSTRICT_ALIASING - Success
-- Performing Test HAVE_CXX_FLAG_WD654
-- Performing Test HAVE_CXX_FLAG_WD654 - Failed
-- Performing Test HAVE_CXX_FLAG_WTHREAD_SAFETY
-- Performing Test HAVE_CXX_FLAG_WTHREAD_SAFETY - Failed
-- Performing Test HAVE_CXX_FLAG_COVERAGE
-- Performing Test HAVE_CXX_FLAG_COVERAGE - Success
-- Performing Test HAVE_STD_REGEX
-- Performing Test HAVE_STD_REGEX
-- Performing Test HAVE_STD_REGEX -- success
-- Performing Test HAVE_GNU_POSIX_REGEX
-- Performing Test HAVE_GNU_POSIX_REGEX
-- Performing Test HAVE_GNU_POSIX_REGEX -- failed to compile
-- Performing Test HAVE_POSIX_REGEX
-- Performing Test HAVE_POSIX_REGEX
-- Performing Test HAVE_POSIX_REGEX -- success
-- Performing Test HAVE_STEADY_CLOCK
-- Performing Test HAVE_STEADY_CLOCK
-- Performing Test HAVE_STEADY_CLOCK -- success
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Failed
-- Check if compiler accepts -pthread
-- Check if compiler accepts -pthread - yes
-- Found Threads: TRUE  
-- CMAKE_BUILD_TYPE: Release
-- TEST_DIR set to: "/home/ziyi/git/vpm-eval/deps/pacman/build/_deps/pmemkv-build/test"
-- CMAP engine is ON
-- CSMAP engine is OFF
-- VCMAP engine is ON
-- VSMAP engine is ON
-- STREE engine is ON
-- TREE3 engine is OFF
-- RADIX engine is OFF
-- ROBINHOOD engine is OFF
-- DRAM_VCMAP engine is OFF
-- Performing Test C_HAS__Wall
-- Performing Test C_HAS__Wall - Success
-- Performing Test CXX_HAS__Wall
-- Performing Test CXX_HAS__Wall - Success
-- Performing Test C_HAS__Wpointer_arith
-- Performing Test C_HAS__Wpointer_arith - Success
-- Performing Test CXX_HAS__Wpointer_arith
-- Performing Test CXX_HAS__Wpointer_arith - Success
-- Performing Test C_HAS__Wsign_compare
-- Performing Test C_HAS__Wsign_compare - Success
-- Performing Test CXX_HAS__Wsign_compare
-- Performing Test CXX_HAS__Wsign_compare - Success
-- Performing Test C_HAS__Wunreachable_code_return
-- Performing Test C_HAS__Wunreachable_code_return - Failed
-- Performing Test CXX_HAS__Wunreachable_code_return
-- Performing Test CXX_HAS__Wunreachable_code_return - Failed
-- Performing Test C_HAS__Wmissing_variable_declarations
-- Performing Test C_HAS__Wmissing_variable_declarations - Failed
-- Performing Test CXX_HAS__Wmissing_variable_declarations
-- Performing Test CXX_HAS__Wmissing_variable_declarations - Failed
-- Performing Test C_HAS__fno_common
-- Performing Test C_HAS__fno_common - Success
-- Performing Test CXX_HAS__fno_common
-- Performing Test CXX_HAS__fno_common - Success
-- Performing Test C_HAS__Wunused_macros
-- Performing Test C_HAS__Wunused_macros - Success
-- Performing Test CXX_HAS__Wunused_macros
-- Performing Test CXX_HAS__Wunused_macros - Success
-- Performing Test C_HAS__Wsign_conversion
-- Performing Test C_HAS__Wsign_conversion - Success
-- Performing Test CXX_HAS__Wsign_conversion
-- Performing Test CXX_HAS__Wsign_conversion - Success
-- Performing Test C_HAS__Wno_maybe_uninitialized
-- Performing Test C_HAS__Wno_maybe_uninitialized - Success
-- Performing Test CXX_HAS__Wno_maybe_uninitialized
-- Performing Test CXX_HAS__Wno_maybe_uninitialized - Success
-- Performing Test C_HAS__ggdb
-- Performing Test C_HAS__ggdb - Success
-- Performing Test CXX_HAS__ggdb
-- Performing Test CXX_HAS__ggdb - Success
-- Performing Test C_HAS__DDEBUG
-- Performing Test C_HAS__DDEBUG - Success
-- Performing Test CXX_HAS__DDEBUG
-- Performing Test CXX_HAS__DDEBUG - Success
-- Performing Test C_HAS__U_FORTIFY_SOURCE__D_FORTIFY_SOURCE_2
-- Performing Test C_HAS__U_FORTIFY_SOURCE__D_FORTIFY_SOURCE_2 - Success
-- Performing Test CXX_HAS__U_FORTIFY_SOURCE__D_FORTIFY_SOURCE_2
-- Performing Test CXX_HAS__U_FORTIFY_SOURCE__D_FORTIFY_SOURCE_2 - Success
-- Found Perl: /usr/bin/perl (found version "5.30.0") 
-- Checking for module 'libpmemobj++>=1.13.0'
--   Found libpmemobj++, version 1.13.0-git127.g9c8f5c78
-- Checking for module 'memkind>=1.8.0'
--   Found memkind, version 1.14.0+dev65+gc425635f
-- Performing Test LIBMEMKIND_NAMESPACE_PRESENT
-- Performing Test LIBMEMKIND_NAMESPACE_PRESENT - Success
-- Checking for module 'tbb'
--   Found in dir '/usr/lib/x86_64-linux-gnu' using pkg-config (ver: )
-- Performing Test C_HAS__Wno_unused_but_set_variable
-- Performing Test C_HAS__Wno_unused_but_set_variable - Success
-- Performing Test CXX_HAS__Wno_unused_but_set_variable
-- Performing Test CXX_HAS__Wno_unused_but_set_variable - Success
-- Some examples use csmap engine, which is disabled, hence they are not built. If you want to build them use -DENGINE_CSMAP=ON option.
-- Some examples use radix engine, which is disabled, hence they are not built. If you want to build them use -DENGINE_RADIX=ON option.
-- Found pandoc: /usr/bin/pandoc
-- Found Doxygen: /usr/bin/doxygen (found version "1.8.17") found components: doxygen dot 
-- Submodule update
-- Configuring done
-- Generating done
-- Build files have been written to: /home/ziyi/git/vpm-eval/deps/pacman/build
Scanning dependencies of target cceh
[  6%] Building CXX object CMakeFiles/cceh.dir/db/index/CCEH/CCEH_MSB.cpp.o
[ 65%] Built target benchmark
[ 68%] Linking CXX static library libcceh.a
[ 68%] Built target cceh
Scanning dependencies of target pacman_bench
[ 72%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/__/db/db.cpp.o
[ 75%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/__/db/log_structured.cpp.o
[ 82%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/benchmark.cpp.o
[ 82%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/histogram.cpp.o
[ 93%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/__/util/index_arena.cpp.o
[ 93%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/__/db/hotkeyset.cpp.o
[ 93%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/__/db/log_cleaner.cpp.o
[ 96%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/__/db/recovery.cpp.o
In file included from /home/ziyi/git/vpm-eval/deps/pacman/benchmarks/benchmark.cpp:1:
/home/ziyi/git/vpm-eval/deps/pacman/benchmarks/bench_base.h:273:2: warning: #warning "ETC_50_50" [-Wcpp]
  273 | #warning "ETC_50_50"
      |  ^~~~~~~
/home/ziyi/git/vpm-eval/deps/pacman/db/log_structured.cpp:42:2: warning: #warning "VPM touch all pages" [-Wcpp]
   42 | #warning "VPM touch all pages"
      |  ^~~~~~~
[100%] Linking CXX executable pacman_bench
[100%] Built target pacman_bench
total keys: 20000000 NUM_OPS_PER_THREAD: 100000000 NUM_WARMUP_OPS_PER_THREAD: 1
benchmark: ETC
The number of inputs is very large. DBFixture/bench will be repeated at least 320 times.
2023-08-22T14:00:36-05:00
Running ./benchmarks/pacman_bench
Run on (64 X 2941.91 MHz CPU s)
CPU Caches:
  L1 Data 32 KiB (x32)
  L1 Instruction 64 KiB (x32)
  L2 Unified 512 KiB (x32)
  L3 Unified 8192 KiB (x8)
Load Average: 0.29, 0.07, 0.02
Init capacity utilization 50%  threads of service / gc : 1 / 1
DB index type: CCEH
2:2000000 OPS in 1.621674 seconds, throughput 1233293.497953
4:2000000 OPS in 1.515294 seconds, throughput 1319875.878872
5:2000000 OPS in 1.522384 seconds, throughput 1313728.993473
7:2000000 OPS in 1.524786 seconds, throughput 1311659.472214
8:2000000 OPS in 1.516386 seconds, throughput 1318925.392347
10:2000000 OPS in 1.511048 seconds, throughput 1323584.690890
11:2000000 OPS in 1.514057 seconds, throughput 1320954.230917
13:2000000 OPS in 1.512990 seconds, throughput 1321885.802286
14:2000000 OPS in 1.513423 seconds, throughput 1321507.602303
16:2000000 OPS in 1.515175 seconds, throughput 1319979.540317
17:2000000 OPS in 1.523824 seconds, throughput 1312487.531368
19:2000000 OPS in 1.511333 seconds, throughput 1323335.095575
20:2000000 OPS in 1.512279 seconds, throughput 1322507.288668
22:2000000 OPS in 1.533077 seconds, throughput 1304565.915476
23:2000000 OPS in 1.526027 seconds, throughput 1310592.800783
25:2000000 OPS in 1.520846 seconds, throughput 1315057.540343
26:2000000 OPS in 1.527418 seconds, throughput 1309399.260713
28:2000000 OPS in 1.515824 seconds, throughput 1319414.391117
29:2000000 OPS in 1.513986 seconds, throughput 1321016.178485
31:2000000 OPS in 1.398444 seconds, throughput 1430160.950313
32:2000000 OPS in 1.371688 seconds, throughput 1458057.517453
34:2000000 OPS in 1.370222 seconds, throughput 1459617.492640
35:2000000 OPS in 1.378365 seconds, throughput 1450994.475339
36:2000000 OPS in 1.373548 seconds, throughput 1456083.078276
38:2000000 OPS in 1.378975 seconds, throughput 1450352.616980
39:2000000 OPS in 1.377573 seconds, throughput 1451828.687119
40:2000000 OPS in 1.382533 seconds, throughput 1446620.080678
42:2000000 OPS in 1.395654 seconds, throughput 1433019.931874
43:2000000 OPS in 1.386680 seconds, throughput 1442293.824098
45:2000000 OPS in 1.398432 seconds, throughput 1430173.222581
46:2000000 OPS in 1.385948 seconds, throughput 1443055.583615
47:2000000 OPS in 1.380071 seconds, throughput 1449200.801988
49:2000000 OPS in 1.381469 seconds, throughput 1447734.259690
50:2000000 OPS in 1.382812 seconds, throughput 1446328.206582
52:2000000 OPS in 1.384862 seconds, throughput 1444187.218654
53:2000000 OPS in 1.383759 seconds, throughput 1445338.386236
54:2000000 OPS in 1.384583 seconds, throughput 1444478.229185
56:2000000 OPS in 1.384924 seconds, throughput 1444122.565570
57:2000000 OPS in 1.385818 seconds, throughput 1443190.952925
58:2000000 OPS in 1.387010 seconds, throughput 1441950.670868
60:2000000 OPS in 1.387410 seconds, throughput 1441534.946411
61:2000000 OPS in 1.385784 seconds, throughput 1443226.361395
63:2000000 OPS in 1.388730 seconds, throughput 1440164.754848
64:2000000 OPS in 1.387836 seconds, throughput 1441092.463375
65:2000000 OPS in 1.403391 seconds, throughput 1425119.585347
67:2000000 OPS in 1.403338 seconds, throughput 1425173.407974
68:2000000 OPS in 1.414815 seconds, throughput 1413612.380417
70:2000000 OPS in 1.418334 seconds, throughput 1410105.095133
71:2000000 OPS in 1.391807 seconds, throughput 1436980.845764
2:2000000 OPS in 1.451391 seconds, throughput 1377988.426275
3:2000000 OPS in 1.393700 seconds, throughput 1435029.059338
5:2000000 OPS in 1.405048 seconds, throughput 1423438.914542
6:2000000 OPS in 1.412118 seconds, throughput 1416312.234530
7:2000000 OPS in 1.400565 seconds, throughput 1427995.130537
9:2000000 OPS in 1.388098 seconds, throughput 1440820.460803
10:2000000 OPS in 1.391809 seconds, throughput 1436978.780853
12:2000000 OPS in 1.392896 seconds, throughput 1435857.379158
13:2000000 OPS in 1.401248 seconds, throughput 1427299.093380
14:2000000 OPS in 1.390301 seconds, throughput 1438537.410244
16:2000000 OPS in 1.393070 seconds, throughput 1435678.034844
17:2000000 OPS in 1.390425 seconds, throughput 1438409.119514
19:2000000 OPS in 1.391937 seconds, throughput 1436846.638892
20:2000000 OPS in 1.393934 seconds, throughput 1434788.160702
21:2000000 OPS in 1.416567 seconds, throughput 1411864.034670
23:2000000 OPS in 1.402619 seconds, throughput 1425903.969645
24:2000000 OPS in 1.408145 seconds, throughput 1420308.277912
26:2000000 OPS in 1.413159 seconds, throughput 1415268.911708
27:2000000 OPS in 1.396585 seconds, throughput 1432064.643398
28:2000000 OPS in 1.390834 seconds, throughput 1437986.129186
30:2000000 OPS in 1.392050 seconds, throughput 1436730.002514
31:2000000 OPS in 1.390323 seconds, throughput 1438514.647316
33:2000000 OPS in 1.392210 seconds, throughput 1436564.886044
34:2000000 OPS in 1.392958 seconds, throughput 1435793.469724
35:2000000 OPS in 1.394173 seconds, throughput 1434542.198135
37:2000000 OPS in 1.392927 seconds, throughput 1435825.423730
38:2000000 OPS in 1.393207 seconds, throughput 1435536.858485
40:2000000 OPS in 1.391625 seconds, throughput 1437168.777508
41:2000000 OPS in 1.393372 seconds, throughput 1435366.865417
42:2000000 OPS in 1.393568 seconds, throughput 1435164.986567
44:2000000 OPS in 1.392478 seconds, throughput 1436288.400966
45:2000000 OPS in 1.392381 seconds, throughput 1436388.459768
47:2000000 OPS in 1.393700 seconds, throughput 1435029.059338
48:2000000 OPS in 1.394001 seconds, throughput 1434719.200345
49:2000000 OPS in 1.393612 seconds, throughput 1435119.674630
51:2000000 OPS in 1.394942 seconds, throughput 1433751.367440
52:2000000 OPS in 1.392135 seconds, throughput 1436642.279664
54:2000000 OPS in 1.398540 seconds, throughput 1430062.779756
55:2000000 OPS in 1.409950 seconds, throughput 1418490.017377
56:2000000 OPS in 1.400030 seconds, throughput 1428540.816982
58:2000000 OPS in 1.407473 seconds, throughput 1420986.406134
59:2000000 OPS in 1.409580 seconds, throughput 1418862.356163
61:2000000 OPS in 1.403364 seconds, throughput 1425147.003913
62:2000000 OPS in 1.395165 seconds, throughput 1433522.199883
63:2000000 OPS in 1.395841 seconds, throughput 1432827.951035
65:2000000 OPS in 1.393923 seconds, throughput 1434799.483185
66:2000000 OPS in 1.397337 seconds, throughput 1431293.954143
68:2000000 OPS in 1.397989 seconds, throughput 1430626.421238
69:2000000 OPS in 1.397345 seconds, throughput 1431285.759780
--------------------------------------------------------------------------------------------------------------
Benchmark                                                    Time             CPU   Iterations UserCounters...
--------------------------------------------------------------------------------------------------------------
DBFixture/bench/50/iterations:1/real_time/threads:1      69910 ms        69902 ms            1 CompactionCPUUsage=0.0668241 CompactionThroughput=2.56854G Lat_Get_Avg=526.273 Lat_Get_P50=513.83 Lat_Get_P95=1065.32 Lat_Get_P99=1.46154k Lat_Put_Avg=854.831 Lat_Put_P50=795.411 Lat_Put_P95=1.28058k Lat_Put_P99=1.75584k items_per_second=1.43042M/s
