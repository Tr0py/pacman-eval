remove /mnt/pmem0/log_kvs
-- The C compiler identification is GNU 9.4.0
-- The CXX compiler identification is GNU 9.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- SET USE_NUMA_NODE 0
-- SET INDEX_TYPE 1
-- SET IDX_PERSISTENT ON
-- SET LOG_PERSISTENT ON
-- SET REDUCE_PM_ACCESS ON
-- SET HOT_COLD_SEPARATE ON
-- SET GC_SHORTCUT ON
-- SET BATCH_COMPACTION ON
-- SET ETC_50_50 ON
-- SET FIRST_TOUCH OFF
-- Will build and evaluate other systems
-- Setting build type to 'Release'
CMake Warning at benchmarks/CMakeLists.txt:2 (find_package):
  By not providing "Findbenchmark.cmake" in CMAKE_MODULE_PATH this project
  has asked CMake to find a package configuration file provided by
  "benchmark", but CMake did not find one.

  Could not find a package configuration file provided by "benchmark" with
  any of the following names:

    benchmarkConfig.cmake
    benchmark-config.cmake

  Add the installation prefix of "benchmark" to CMAKE_PREFIX_PATH or set
  "benchmark_DIR" to a directory containing one of the above files.  If
  "benchmark" provides a separate development package or SDK, be sure it has
  been installed.


-- Failed to find LLVM FileCheck
-- Found Git: /usr/bin/git (found version "2.25.1") 
-- git version: v1.6.0 normalized to 1.6.0
-- Version: 1.6.0
-- Performing Test HAVE_CXX_FLAG_STD_CXX11
-- Performing Test HAVE_CXX_FLAG_STD_CXX11 - Success
-- Performing Test HAVE_CXX_FLAG_WALL
-- Performing Test HAVE_CXX_FLAG_WALL - Success
-- Performing Test HAVE_CXX_FLAG_WEXTRA
-- Performing Test HAVE_CXX_FLAG_WEXTRA - Success
-- Performing Test HAVE_CXX_FLAG_WSHADOW
-- Performing Test HAVE_CXX_FLAG_WSHADOW - Success
-- Performing Test HAVE_CXX_FLAG_WERROR
-- Performing Test HAVE_CXX_FLAG_WERROR - Success
-- Performing Test HAVE_CXX_FLAG_WSUGGEST_OVERRIDE
-- Performing Test HAVE_CXX_FLAG_WSUGGEST_OVERRIDE - Success
-- Performing Test HAVE_CXX_FLAG_PEDANTIC
-- Performing Test HAVE_CXX_FLAG_PEDANTIC - Success
-- Performing Test HAVE_CXX_FLAG_PEDANTIC_ERRORS
-- Performing Test HAVE_CXX_FLAG_PEDANTIC_ERRORS - Success
-- Performing Test HAVE_CXX_FLAG_WSHORTEN_64_TO_32
-- Performing Test HAVE_CXX_FLAG_WSHORTEN_64_TO_32 - Failed
-- Performing Test HAVE_CXX_FLAG_FSTRICT_ALIASING
-- Performing Test HAVE_CXX_FLAG_FSTRICT_ALIASING - Success
-- Performing Test HAVE_CXX_FLAG_WNO_DEPRECATED_DECLARATIONS
-- Performing Test HAVE_CXX_FLAG_WNO_DEPRECATED_DECLARATIONS - Success
-- Performing Test HAVE_CXX_FLAG_WNO_DEPRECATED
-- Performing Test HAVE_CXX_FLAG_WNO_DEPRECATED - Success
-- Performing Test HAVE_CXX_FLAG_WSTRICT_ALIASING
-- Performing Test HAVE_CXX_FLAG_WSTRICT_ALIASING - Success
-- Performing Test HAVE_CXX_FLAG_WD654
-- Performing Test HAVE_CXX_FLAG_WD654 - Failed
-- Performing Test HAVE_CXX_FLAG_WTHREAD_SAFETY
-- Performing Test HAVE_CXX_FLAG_WTHREAD_SAFETY - Failed
-- Performing Test HAVE_CXX_FLAG_COVERAGE
-- Performing Test HAVE_CXX_FLAG_COVERAGE - Success
-- Performing Test HAVE_STD_REGEX
-- Performing Test HAVE_STD_REGEX
-- Performing Test HAVE_STD_REGEX -- success
-- Performing Test HAVE_GNU_POSIX_REGEX
-- Performing Test HAVE_GNU_POSIX_REGEX
-- Performing Test HAVE_GNU_POSIX_REGEX -- failed to compile
-- Performing Test HAVE_POSIX_REGEX
-- Performing Test HAVE_POSIX_REGEX
-- Performing Test HAVE_POSIX_REGEX -- success
-- Performing Test HAVE_STEADY_CLOCK
-- Performing Test HAVE_STEADY_CLOCK
-- Performing Test HAVE_STEADY_CLOCK -- success
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Failed
-- Check if compiler accepts -pthread
-- Check if compiler accepts -pthread - yes
-- Found Threads: TRUE  
-- CMAKE_BUILD_TYPE: Release
-- TEST_DIR set to: "/home/ziyi/git/vpm-eval/deps/pacman/build/_deps/pmemkv-build/test"
-- CMAP engine is ON
-- CSMAP engine is OFF
-- VCMAP engine is ON
-- VSMAP engine is ON
-- STREE engine is ON
-- TREE3 engine is OFF
-- RADIX engine is OFF
-- ROBINHOOD engine is OFF
-- DRAM_VCMAP engine is OFF
-- Performing Test C_HAS__Wall
-- Performing Test C_HAS__Wall - Success
-- Performing Test CXX_HAS__Wall
-- Performing Test CXX_HAS__Wall - Success
-- Performing Test C_HAS__Wpointer_arith
-- Performing Test C_HAS__Wpointer_arith - Success
-- Performing Test CXX_HAS__Wpointer_arith
-- Performing Test CXX_HAS__Wpointer_arith - Success
-- Performing Test C_HAS__Wsign_compare
-- Performing Test C_HAS__Wsign_compare - Success
-- Performing Test CXX_HAS__Wsign_compare
-- Performing Test CXX_HAS__Wsign_compare - Success
-- Performing Test C_HAS__Wunreachable_code_return
-- Performing Test C_HAS__Wunreachable_code_return - Failed
-- Performing Test CXX_HAS__Wunreachable_code_return
-- Performing Test CXX_HAS__Wunreachable_code_return - Failed
-- Performing Test C_HAS__Wmissing_variable_declarations
-- Performing Test C_HAS__Wmissing_variable_declarations - Failed
-- Performing Test CXX_HAS__Wmissing_variable_declarations
-- Performing Test CXX_HAS__Wmissing_variable_declarations - Failed
-- Performing Test C_HAS__fno_common
-- Performing Test C_HAS__fno_common - Success
-- Performing Test CXX_HAS__fno_common
-- Performing Test CXX_HAS__fno_common - Success
-- Performing Test C_HAS__Wunused_macros
-- Performing Test C_HAS__Wunused_macros - Success
-- Performing Test CXX_HAS__Wunused_macros
-- Performing Test CXX_HAS__Wunused_macros - Success
-- Performing Test C_HAS__Wsign_conversion
-- Performing Test C_HAS__Wsign_conversion - Success
-- Performing Test CXX_HAS__Wsign_conversion
-- Performing Test CXX_HAS__Wsign_conversion - Success
-- Performing Test C_HAS__Wno_maybe_uninitialized
-- Performing Test C_HAS__Wno_maybe_uninitialized - Success
-- Performing Test CXX_HAS__Wno_maybe_uninitialized
-- Performing Test CXX_HAS__Wno_maybe_uninitialized - Success
-- Performing Test C_HAS__ggdb
-- Performing Test C_HAS__ggdb - Success
-- Performing Test CXX_HAS__ggdb
-- Performing Test CXX_HAS__ggdb - Success
-- Performing Test C_HAS__DDEBUG
-- Performing Test C_HAS__DDEBUG - Success
-- Performing Test CXX_HAS__DDEBUG
-- Performing Test CXX_HAS__DDEBUG - Success
-- Performing Test C_HAS__U_FORTIFY_SOURCE__D_FORTIFY_SOURCE_2
-- Performing Test C_HAS__U_FORTIFY_SOURCE__D_FORTIFY_SOURCE_2 - Success
-- Performing Test CXX_HAS__U_FORTIFY_SOURCE__D_FORTIFY_SOURCE_2
-- Performing Test CXX_HAS__U_FORTIFY_SOURCE__D_FORTIFY_SOURCE_2 - Success
-- Found Perl: /usr/bin/perl (found version "5.30.0") 
-- Checking for module 'libpmemobj++>=1.13.0'
--   Found libpmemobj++, version 1.13.0-git127.g9c8f5c78
-- Checking for module 'memkind>=1.8.0'
--   Found memkind, version 1.14.0+dev65+gc425635f
-- Performing Test LIBMEMKIND_NAMESPACE_PRESENT
-- Performing Test LIBMEMKIND_NAMESPACE_PRESENT - Success
-- Checking for module 'tbb'
--   Found in dir '/usr/lib/x86_64-linux-gnu' using pkg-config (ver: )
-- Performing Test C_HAS__Wno_unused_but_set_variable
-- Performing Test C_HAS__Wno_unused_but_set_variable - Success
-- Performing Test CXX_HAS__Wno_unused_but_set_variable
-- Performing Test CXX_HAS__Wno_unused_but_set_variable - Success
-- Some examples use csmap engine, which is disabled, hence they are not built. If you want to build them use -DENGINE_CSMAP=ON option.
-- Some examples use radix engine, which is disabled, hence they are not built. If you want to build them use -DENGINE_RADIX=ON option.
-- Found pandoc: /usr/bin/pandoc
-- Found Doxygen: /usr/bin/doxygen (found version "1.8.17") found components: doxygen dot 
-- Submodule update
-- Configuring done
-- Generating done
-- Build files have been written to: /home/ziyi/git/vpm-eval/deps/pacman/build
Scanning dependencies of target cceh
[  6%] Building CXX object CMakeFiles/cceh.dir/db/index/CCEH/CCEH_MSB.cpp.o
[ 65%] Built target benchmark
[ 68%] Linking CXX static library libcceh.a
[ 68%] Built target cceh
Scanning dependencies of target pacman_bench
[ 72%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/__/db/log_cleaner.cpp.o
[ 75%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/__/util/index_arena.cpp.o
[ 82%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/__/db/hotkeyset.cpp.o
[ 82%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/__/db/recovery.cpp.o
[ 86%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/histogram.cpp.o
[ 89%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/benchmark.cpp.o
[ 93%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/__/db/log_structured.cpp.o
[ 96%] Building CXX object benchmarks/CMakeFiles/pacman_bench.dir/__/db/db.cpp.o
In file included from /home/ziyi/git/vpm-eval/deps/pacman/benchmarks/benchmark.cpp:1:
/home/ziyi/git/vpm-eval/deps/pacman/benchmarks/bench_base.h:273:2: warning: #warning "ETC_50_50" [-Wcpp]
  273 | #warning "ETC_50_50"
      |  ^~~~~~~
[100%] Linking CXX executable pacman_bench
[100%] Built target pacman_bench
total keys: 20000000 NUM_OPS_PER_THREAD: 100000000 NUM_WARMUP_OPS_PER_THREAD: 1
benchmark: ETC
The number of inputs is very large. DBFixture/bench will be repeated at least 320 times.
2023-08-22T14:20:33-05:00
Running ./benchmarks/pacman_bench
Run on (64 X 2935.62 MHz CPU s)
CPU Caches:
  L1 Data 32 KiB (x32)
  L1 Instruction 64 KiB (x32)
  L2 Unified 512 KiB (x32)
  L3 Unified 8192 KiB (x8)
Load Average: 0.63, 0.52, 0.37
Init capacity utilization 50%  threads of service / gc : 1 / 1
DB index type: CCEH
2:2000000 OPS in 1.613603 seconds, throughput 1239462.246910
3:2000000 OPS in 1.520648 seconds, throughput 1315228.770892
5:2000000 OPS in 1.515224 seconds, throughput 1319936.854221
6:2000000 OPS in 1.511708 seconds, throughput 1323006.824069
8:2000000 OPS in 1.508991 seconds, throughput 1325388.951955
9:2000000 OPS in 1.515492 seconds, throughput 1319703.436244
11:2000000 OPS in 1.529460 seconds, throughput 1307651.066389
13:2000000 OPS in 1.519232 seconds, throughput 1316454.629708
14:2000000 OPS in 1.515560 seconds, throughput 1319644.223917
16:2000000 OPS in 1.517600 seconds, throughput 1317870.321560
17:2000000 OPS in 1.514706 seconds, throughput 1320388.246960
19:2000000 OPS in 1.514145 seconds, throughput 1320877.458896
20:2000000 OPS in 1.518497 seconds, throughput 1317091.834887
22:2000000 OPS in 1.515193 seconds, throughput 1319963.859390
23:2000000 OPS in 1.513447 seconds, throughput 1321486.646047
25:2000000 OPS in 1.534202 seconds, throughput 1303609.303077
26:2000000 OPS in 1.532091 seconds, throughput 1305405.488316
28:2000000 OPS in 1.525908 seconds, throughput 1310695.009136
29:2000000 OPS in 1.527484 seconds, throughput 1309342.683786
31:2000000 OPS in 1.396565 seconds, throughput 1432085.151783
32:2000000 OPS in 1.371194 seconds, throughput 1458582.811768
33:2000000 OPS in 1.371887 seconds, throughput 1457846.017930
35:2000000 OPS in 1.373736 seconds, throughput 1455883.808825
36:2000000 OPS in 1.372495 seconds, throughput 1457200.208380
38:2000000 OPS in 1.378236 seconds, throughput 1451130.285379
39:2000000 OPS in 1.378665 seconds, throughput 1450678.736314
40:2000000 OPS in 1.381217 seconds, throughput 1447998.395618
42:2000000 OPS in 1.398625 seconds, throughput 1429975.869157
43:2000000 OPS in 1.389523 seconds, throughput 1439342.853627
44:2000000 OPS in 1.397596 seconds, throughput 1431028.709298
46:2000000 OPS in 1.393779 seconds, throughput 1434947.721267
47:2000000 OPS in 1.382789 seconds, throughput 1446352.263433
49:2000000 OPS in 1.391867 seconds, throughput 1436918.901016
50:2000000 OPS in 1.385427 seconds, throughput 1443598.255267
51:2000000 OPS in 1.389807 seconds, throughput 1439048.731227
53:2000000 OPS in 1.387478 seconds, throughput 1441464.297092
54:2000000 OPS in 1.387341 seconds, throughput 1441606.641770
56:2000000 OPS in 1.389588 seconds, throughput 1439275.526271
57:2000000 OPS in 1.394531 seconds, throughput 1434173.926575
58:2000000 OPS in 1.387439 seconds, throughput 1441504.815707
60:2000000 OPS in 1.389804 seconds, throughput 1439051.837525
61:2000000 OPS in 1.393708 seconds, throughput 1435020.822152
63:2000000 OPS in 1.406475 seconds, throughput 1421994.703070
64:2000000 OPS in 1.406084 seconds, throughput 1422390.127475
65:2000000 OPS in 1.399247 seconds, throughput 1429340.209413
67:2000000 OPS in 1.398308 seconds, throughput 1430300.048344
68:2000000 OPS in 1.392929 seconds, throughput 1435823.362138
70:2000000 OPS in 1.395148 seconds, throughput 1433539.667476
71:2000000 OPS in 1.396176 seconds, throughput 1432484.156725
2:2000000 OPS in 1.454539 seconds, throughput 1375006.101590
3:2000000 OPS in 1.391738 seconds, throughput 1437052.088827
5:2000000 OPS in 1.393085 seconds, throughput 1435662.576225
6:2000000 OPS in 1.400356 seconds, throughput 1428208.255615
7:2000000 OPS in 1.396590 seconds, throughput 1432059.516394
9:2000000 OPS in 1.396713 seconds, throughput 1431933.403641
10:2000000 OPS in 1.396854 seconds, throughput 1431788.862687
12:2000000 OPS in 1.393960 seconds, throughput 1434761.399179
13:2000000 OPS in 1.398541 seconds, throughput 1430061.757217
14:2000000 OPS in 1.406327 seconds, throughput 1422144.351918
16:2000000 OPS in 1.401632 seconds, throughput 1426908.061460
17:2000000 OPS in 1.407817 seconds, throughput 1420639.188190
19:2000000 OPS in 1.405489 seconds, throughput 1422992.282401
20:2000000 OPS in 1.401287 seconds, throughput 1427259.369423
21:2000000 OPS in 1.399099 seconds, throughput 1429491.408399
23:2000000 OPS in 1.397600 seconds, throughput 1431024.613623
24:2000000 OPS in 1.410156 seconds, throughput 1418282.799917
26:2000000 OPS in 1.403652 seconds, throughput 1424854.593589
27:2000000 OPS in 1.399973 seconds, throughput 1428598.980123
28:2000000 OPS in 1.395893 seconds, throughput 1432774.575129
30:2000000 OPS in 1.399448 seconds, throughput 1429134.916053
31:2000000 OPS in 1.399242 seconds, throughput 1429345.316964
33:2000000 OPS in 1.400521 seconds, throughput 1428039.993688
34:2000000 OPS in 1.401792 seconds, throughput 1426745.194722
35:2000000 OPS in 1.397989 seconds, throughput 1430626.421238
37:2000000 OPS in 1.403941 seconds, throughput 1424561.288544
38:2000000 OPS in 1.400152 seconds, throughput 1428416.343368
40:2000000 OPS in 1.400753 seconds, throughput 1427803.474274
41:2000000 OPS in 1.406312 seconds, throughput 1422159.520789
42:2000000 OPS in 1.410921 seconds, throughput 1417513.808356
44:2000000 OPS in 1.408566 seconds, throughput 1419883.768315
45:2000000 OPS in 1.404621 seconds, throughput 1423871.635124
47:2000000 OPS in 1.409671 seconds, throughput 1418770.762823
48:2000000 OPS in 1.408208 seconds, throughput 1420244.736573
49:2000000 OPS in 1.406859 seconds, throughput 1421606.571803
51:2000000 OPS in 1.400532 seconds, throughput 1428028.777636
52:2000000 OPS in 1.402292 seconds, throughput 1426236.475713
54:2000000 OPS in 1.401744 seconds, throughput 1426794.050840
55:2000000 OPS in 1.402593 seconds, throughput 1425930.401763
56:2000000 OPS in 1.402017 seconds, throughput 1426516.226265
58:2000000 OPS in 1.402908 seconds, throughput 1425610.232460
59:2000000 OPS in 1.402767 seconds, throughput 1425753.528562
61:2000000 OPS in 1.401278 seconds, throughput 1427268.536293
62:2000000 OPS in 1.403739 seconds, throughput 1424766.284901
63:2000000 OPS in 1.402427 seconds, throughput 1426099.183772
65:2000000 OPS in 1.401418 seconds, throughput 1427125.953855
66:2000000 OPS in 1.403327 seconds, throughput 1425184.579218
68:2000000 OPS in 1.401605 seconds, throughput 1426935.548889
69:2000000 OPS in 1.403205 seconds, throughput 1425308.490206
--------------------------------------------------------------------------------------------------------------
Benchmark                                                    Time             CPU   Iterations UserCounters...
--------------------------------------------------------------------------------------------------------------
DBFixture/bench/50/iterations:1/real_time/threads:1      70145 ms        70139 ms            1 CompactionCPUUsage=0.0694189 CompactionThroughput=2.47466G Lat_Get_Avg=531.52 Lat_Get_P50=516.123 Lat_Get_P95=1068.71 Lat_Get_P99=1.49049k Lat_Put_Avg=850.865 Lat_Put_P50=796.073 Lat_Put_P95=1.28151k Lat_Put_P99=1.75903k items_per_second=1.42562M/s
