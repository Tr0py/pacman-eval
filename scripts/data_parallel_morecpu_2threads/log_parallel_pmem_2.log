cmd=numactl --physcpubind=0-7,16-23,24-31,32-39,48-55,56-63   ../build/benchmarks/pacman_bench --benchmark_repetitions=1 --benchmark_filter=/(50)/.*/threads:(2)$   --benchmark_out=../results/etc_3_0 --benchmark_out_format=json reps=2
total keys: 20000000 NUM_OPS_PER_THREAD: 100000000 NUM_WARMUP_OPS_PER_THREAD: 0
benchmark: ETC
The number of inputs is very large. DBFixture/bench will be repeated at least 320 times.
2024-08-28T18:13:33-05:00
Running ../build/benchmarks/pacman_bench
Run on (64 X 2000 MHz CPU s)
CPU Caches:
  L1 Data 32 KiB (x32)
  L1 Instruction 64 KiB (x32)
  L2 Unified 512 KiB (x32)
  L3 Unified 8192 KiB (x8)
Load Average: 2.62, 1.17, 0.45
total keys: 20000000 NUM_OPS_PER_THREAD: 100000000 NUM_WARMUP_OPS_PER_THREAD: 0
benchmark: ETC
The number of inputs is very large. DBFixture/bench will be repeated at least 320 times.
2024-08-28T18:13:33-05:00
Running ../build/benchmarks/pacman_bench
Run on (64 X 2000 MHz CPU s)
CPU Caches:
  L1 Data 32 KiB (x32)
  L1 Instruction 64 KiB (x32)
  L2 Unified 512 KiB (x32)
  L3 Unified 8192 KiB (x8)
Load Average: 2.62, 1.17, 0.45
[1724886813]	Setup starts!
Init capacity utilization 50%  threads of service / gc : 2 / 2
[1724886813]	Setup starts!
Using MADVISE_HUGE
idx_start_addr_ = 0x7f08f6400000, is aligned to 2MB = 1
idx_pool_size_ = 10737418240, is aligned to 2MB = 1
DB index type: FastFair
Using MADVISE_HUGE
pool_start_ 0x7f06fb200000, is aligned to 2M? 1
total_log_size_ 0x1fb000000, is aligned to 2M? 1
[1724886813]	Initializing log segments...
Log: pool_start 0x7f06fb200000 total segments: 2028  cleaners: 2
[1724886814]Initialized 2026 free log segments...
[1724886814]	DB init finished in 0.561607 seconds
[1724886814]	DB init finished in 0.561774 seconds
[1724886832]	DB load finished in 17.503420 seconds
[1724886832]	DB load finished in 17.815017 seconds
[1724886832]	DB warmup finished in 0.000018 seconds
[1724886832]	DB warmup finished in 0.311845 seconds
[1724886832]	ETC init!
[1724886832]	ETC starts!
[1724886832]	ETC init!
[1724886832]	ETC starts!
7308	[1724886834]	2000000 OPS in 2.439119 seconds, throughput 819968.193434
7308	[1724886834]	2000000 OPS in 2.458095 seconds, throughput 813638.203568
7308	[1724886837]	2000000 OPS in 2.357780 seconds, throughput 848255.562436
7308	[1724886837]	2000000 OPS in 2.402798 seconds, throughput 832362.936876
7308	[1724886839]	2000000 OPS in 2.343830 seconds, throughput 853304.207216
7308	[1724886839]	2000000 OPS in 2.459536 seconds, throughput 813161.506886
7308	[1724886841]	2000000 OPS in 2.344301 seconds, throughput 853132.767507
7308	[1724886842]	2000000 OPS in 2.474607 seconds, throughput 808209.141896
7308	[1724886844]	2000000 OPS in 2.357989 seconds, throughput 848180.377432
7308	[1724886844]	2000000 OPS in 2.418150 seconds, throughput 827078.551785
7308	[1724886846]	2000000 OPS in 2.371514 seconds, throughput 843343.113302
7308	[1724886846]	2000000 OPS in 2.417460 seconds, throughput 827314.619477
7308	[1724886848]	2000000 OPS in 2.353528 seconds, throughput 849788.062857
7308	[1724886849]	2000000 OPS in 2.438431 seconds, throughput 820199.546348
7308	[1724886851]	2000000 OPS in 2.479939 seconds, throughput 806471.449499
7308	[1724886851]	2000000 OPS in 2.420301 seconds, throughput 826343.500251
7308	[1724886853]	2000000 OPS in 2.405435 seconds, throughput 831450.444514
7308	[1724886854]	2000000 OPS in 2.458113 seconds, throughput 813632.245548
7308	[1724886856]	2000000 OPS in 2.373206 seconds, throughput 842741.843734
7308	[1724886856]	2000000 OPS in 2.397022 seconds, throughput 834368.645761
7308	[1724886858]	2000000 OPS in 2.020810 seconds, throughput 989702.149138
7308	[1724886858]	2000000 OPS in 2.042084 seconds, throughput 979391.641088
7308	[1724886860]	2000000 OPS in 2.020955 seconds, throughput 989631.139733
7308	[1724886860]	2000000 OPS in 2.074949 seconds, throughput 963879.112210
7308	[1724886862]	2000000 OPS in 2.024026 seconds, throughput 988129.599126
7308	[1724886862]	2000000 OPS in 2.079967 seconds, throughput 961553.716958
7308	[1724886864]	2000000 OPS in 2.029986 seconds, throughput 985228.469556
7308	[1724886864]	2000000 OPS in 2.089060 seconds, throughput 957368.385781
7308	[1724886866]	2000000 OPS in 2.053705 seconds, throughput 973849.700906
7308	[1724886867]	2000000 OPS in 2.092012 seconds, throughput 956017.460703
7308	[1724886868]	2000000 OPS in 2.015660 seconds, throughput 992230.832581
7308	[1724886869]	2000000 OPS in 2.103168 seconds, throughput 950946.381839
7308	[1724886870]	2000000 OPS in 2.056600 seconds, throughput 972478.848585
7308	[1724886871]	2000000 OPS in 2.079521 seconds, throughput 961759.943756
7308	[1724886872]	2000000 OPS in 2.220830 seconds, throughput 900564.203473
7308	[1724886873]	2000000 OPS in 2.134568 seconds, throughput 936957.735710
7308	[1724886874]	2000000 OPS in 2.086617 seconds, throughput 958489.267556
7308	[1724886875]	2000000 OPS in 2.060390 seconds, throughput 970690.014997
7308	[1724886876]	2000000 OPS in 2.061210 seconds, throughput 970303.850651
7308	[1724886877]	2000000 OPS in 2.022845 seconds, throughput 988706.500004
7308	[1724886878]	2000000 OPS in 2.046128 seconds, throughput 977455.955835
7308	[1724886879]	2000000 OPS in 2.04[1724886813]	Setup starts!
Init capacity utilization 50%  threads of service / gc : 2 / 2
[1724886813]	Setup starts!
Using MADVISE_HUGE
idx_start_addr_ = 0x7fe065e00000, is aligned to 2MB = 1
idx_pool_size_ = 10737418240, is aligned to 2MB = 1
DB index type: FastFair
Using MADVISE_HUGE
pool_start_ 0x7fde6ac00000, is aligned to 2M? 1
total_log_size_ 0x1fb000000, is aligned to 2M? 1
[1724886813]	Initializing log segments...
Log: pool_start 0x7fde6ac00000 total segments: 2028  cleaners: 2
[1724886814]Initialized 2026 free log segments...
[1724886814]	DB init finished in 0.562478 seconds
[1724886814]	DB init finished in 0.562652 seconds
[1724886832]	DB load finished in 17.637501 seconds
[1724886832]	DB load finished in 17.909107 seconds
[1724886832]	DB warmup finished in 0.000016 seconds
[1724886832]	DB warmup finished in 0.271647 seconds
[1724886832]	ETC init!
[1724886832]	ETC starts!
[1724886832]	ETC init!
[1724886832]	ETC starts!
7309	[1724886834]	2000000 OPS in 2.430191 seconds, throughput 822980.580539
7309	[1724886834]	2000000 OPS in 2.435656 seconds, throughput 821134.018925
7309	[1724886837]	2000000 OPS in 2.365897 seconds, throughput 845345.338364
7309	[1724886837]	2000000 OPS in 2.371938 seconds, throughput 843192.360003
7309	[1724886839]	2000000 OPS in 2.392571 seconds, throughput 835920.856685
7309	[1724886839]	2000000 OPS in 2.519274 seconds, throughput 793879.506556
7309	[1724886842]	2000000 OPS in 2.506160 seconds, throughput 798033.645098
7309	[1724886842]	2000000 OPS in 2.448956 seconds, throughput 816674.533965
7309	[1724886844]	2000000 OPS in 2.449604 seconds, throughput 816458.496965
7309	[1724886844]	2000000 OPS in 2.396313 seconds, throughput 834615.511413
7309	[1724886847]	2000000 OPS in 2.418803 seconds, throughput 826855.266841
7309	[1724886847]	2000000 OPS in 2.444751 seconds, throughput 818079.223610
7309	[1724886849]	2000000 OPS in 2.415101 seconds, throughput 828122.716193
7309	[1724886849]	2000000 OPS in 2.474028 seconds, throughput 808398.288136
7309	[1724886851]	2000000 OPS in 2.353856 seconds, throughput 849669.648441
7309	[1724886851]	2000000 OPS in 2.430000 seconds, throughput 823045.267490
7309	[1724886854]	2000000 OPS in 2.376165 seconds, throughput 841692.390890
7309	[1724886854]	2000000 OPS in 2.460452 seconds, throughput 812858.775542
7309	[1724886856]	2000000 OPS in 2.376557 seconds, throughput 841553.558362
7309	[1724886856]	2000000 OPS in 2.437521 seconds, throughput 820505.751540
7309	[1724886858]	2000000 OPS in 2.005216 seconds, throughput 997398.783971
7309	[1724886858]	2000000 OPS in 2.088524 seconds, throughput 957614.085354
7309	[1724886860]	2000000 OPS in 2.029688 seconds, throughput 985373.121386
7309	[1724886861]	2000000 OPS in 2.143307 seconds, throughput 933137.436681
7309	[1724886862]	2000000 OPS in 2.036284 seconds, throughput 982181.267446
7309	[1724886863]	2000000 OPS in 2.154131 seconds, throughput 928448.641239
7309	[1724886864]	2000000 OPS in 2.044994 seconds, throughput 977997.979456
7309	[1724886865]	2000000 OPS in 2.214036 seconds, throughput 903327.678502
7309	[1724886866]	2000000 OPS in 2.069219 seconds, throughput 966548.248397
7309	[1724886867]	2000000 OPS in 2.191722 seconds, throughput 912524.489876
7309	[1724886868]	2000000 OPS in 2.027167 seconds, throughput 986598.538749
7309	[1724886869]	2000000 OPS in 2.236310 seconds, throughput 894330.392477
7309	[1724886870]	2000000 OPS in 2.115133 seconds, throughput 945567.016353
7309	[1724886871]	2000000 OPS in 2.163421 seconds, throughput 924461.766804
7309	[1724886873]	2000000 OPS in 2.194111 seconds, throughput 911530.911608
7309	[1724886873]	2000000 OPS in 2.025356 seconds, throughput 987480.719439
7309	[1724886875]	2000000 OPS in 2.186190 seconds, throughput 914833.568903
7309	[1724886876]	2000000 OPS in 2.038507 seconds, throughput 981110.194863
7309	[1724886877]	2000000 OPS in 2.150323 seconds, throughput 930092.827915
7309	[1724886878]	2000000 OPS in 2.006030 seconds, throughput 996994.062900
7309	[1724886879]	2000000 OPS in 2.159473 seconds, throughput 926151.889836
7309	[1724886880]	2000000 OPS in 2.023819 seconds, throughput 978560.234541
7308	[1724886880]	2000000 OPS in 2.067460 seconds, throughput 967370.589999
7308	[1724886881]	2000000 OPS in 2.043352 seconds, throughput 978783.880604
7308	[1724886882]	2000000 OPS in 2.050294 seconds, throughput 975469.859445
7308	[1724886883]	2000000 OPS in 2.040167 seconds, throughput 980311.905839
7308	[1724886884]	2000000 OPS in 2.073464 seconds, throughput 964569.435495
7308	[1724886885]	2000000 OPS in 2.041527 seconds, throughput 979658.853397
7308	[1724886887]	2000000 OPS in 2.166828 seconds, throughput 923008.194467
7308	[1724886887]	2000000 OPS in 2.017402 seconds, throughput 991374.054353
7308	[1724886889]	2000000 OPS in 2.112529 seconds, throughput 946732.565565
7308	[1724886889]	2000000 OPS in 2.033601 seconds, throughput 983477.093097
7308	[1724886891]	2000000 OPS in 2.047831 seconds, throughput 976643.092130
7308	[1724886891]	2000000 OPS in 2.034706 seconds, throughput 982942.990290
7308	[1724886893]	2000000 OPS in 2.040631 seconds, throughput 980089.001882
7308	[1724886893]	2000000 OPS in 2.027952 seconds, throughput 986216.636291
7308	[1724886895]	2000000 OPS in 2.046150 seconds, throughput 977445.446326
7308	[1724886895]	2000000 OPS in 2.034429 seconds, throughput 983076.824013
7308	[1724886897]	2000000 OPS in 2.046715 seconds, throughput 977175.620445
7308	[1724886897]	2000000 OPS in 2.024081 seconds, throughput 988102.748852
7308	[1724886899]	2000000 OPS in 2.039823 seconds, throughput 980477.227681
7308	[1724886899]	2000000 OPS in 2.029379 seconds, throughput 985523.157577
7308	[1724886901]	2000000 OPS in 2.042518 seconds, throughput 979183.537183
7308	[1724886901]	2000000 OPS in 2.031472 seconds, throughput 984507.785488
7308	[1724886903]	2000000 OPS in 2.029949 seconds, throughput 985246.427373
7308	[1724886904]	2000000 OPS in 2.206302 seconds, throughput 906494.215207
7308	[1724886905]	2000000 OPS in 2.023269 seconds, throughput 988499.304838
7308	[1724886906]	2000000 OPS in 2.215020 seconds, throughput 902926.384412
7308	[1724886907]	2000000 OPS in 2.011090 seconds, throughput 994485.577473
7308	[1724886908]	2000000 OPS in 2.214950 seconds, throughput 902954.919976
7308	[1724886909]	2000000 OPS in 1.997248 seconds, throughput 1001377.895985
7308	[1724886910]	2000000 OPS in 2.221408 seconds, throughput 900329.880868
7308	[1724886911]	2000000 OPS in 2.002748 seconds, throughput 998627.885286
7308	[1724886912]	2000000 OPS in 2.231387 seconds, throughput 896303.509880
7308	[1724886913]	2000000 OPS in 2.008208 seconds, throughput 995912.773976
7308	[1724886915]	2000000 OPS in 2.131073 seconds, throughput 938494.364107
7308	[1724886915]	2000000 OPS in 2.015343 seconds, throughput 992386.903867
7308	[1724886917]	2000000 OPS in 2.006794 seconds, throughput 996614.500542
7308	[1724886917]	2000000 OPS in 2.015097 seconds, throughput 992508.052962
7308	[1724886919]	2000000 OPS in 2.001986 seconds, throughput 999007.985071
7308	[1724886919]	2000000 OPS in 2.017627 seconds, throughput 991263.499150
7308	[1724886921]	2000000 OPS in 2.010185 seconds, throughput 994933.302159
7308	[1724886921]	2000000 OPS in 2.014630 seconds, throughput 992738.120647
7308	[1724886923]	2000000 OPS in 2.016195 seconds, throughput 991967.542822
7308	[1724886923]	2000000 OPS in 2.025262 seconds, throughput 987526.552120
7308	[1724886925]	2000000 OPS in 2.022881 seconds, throughput 988688.904587
7308	[1724886925]	2000000 OPS in 2.022729 seconds, throughput 988763.200607
7308	[1724886927]	2000000 OPS in 2.015581 seconds, throughput 992269.722725
7308	[1724886927]	2000000 OPS in 2.017675 seconds, throughput 991239.917231
7308	[1724886929]	2000000 OPS in 2.026522 seconds, throughput 986912.552639
7308	[1724886929]	2000000 OPS in 2.028080 seconds, throughput 986154.392332
7308	[1724886931]	2000000 OPS in 2.016038 seconds, throughput 992044.792806
7308	[1724886931]	2000000 OPS in 2.035087 seconds, throughput 982758.968044
7308	[1724886933]	2000000 OPS in 2.023305 seconds, throughput 988481.716795
7308	[1724886933]	2000000 OPS in 2.014960 seconds, throughput 992575.534998
7308	[1724886935]	2000000 OP8696 seconds, throughput 985854.953132
7309	[1724886881]	2000000 OPS in 2.151410 seconds, throughput 929622.898471
7309	[1724886882]	2000000 OPS in 2.010008 seconds, throughput 995020.915340
7309	[1724886883]	2000000 OPS in 2.158317 seconds, throughput 926647.939112
7309	[1724886884]	2000000 OPS in 2.017916 seconds, throughput 991121.533305
7309	[1724886886]	2000000 OPS in 2.138883 seconds, throughput 935067.509537
7309	[1724886886]	2000000 OPS in 2.026567 seconds, throughput 986890.638207
7309	[1724886888]	2000000 OPS in 2.006209 seconds, throughput 996905.108092
7309	[1724886888]	2000000 OPS in 2.225729 seconds, throughput 898581.992686
7309	[1724886890]	2000000 OPS in 2.016947 seconds, throughput 991597.696915
7309	[1724886890]	2000000 OPS in 2.228524 seconds, throughput 897454.997119
7309	[1724886892]	2000000 OPS in 2.013665 seconds, throughput 993213.866259
7309	[1724886892]	2000000 OPS in 2.216783 seconds, throughput 902208.290121
7309	[1724886894]	2000000 OPS in 2.013033 seconds, throughput 993525.689842
7309	[1724886894]	2000000 OPS in 2.205912 seconds, throughput 906654.481230
7309	[1724886896]	2000000 OPS in 2.009173 seconds, throughput 995434.439941
7309	[1724886897]	2000000 OPS in 2.208124 seconds, throughput 905746.235266
7309	[1724886898]	2000000 OPS in 2.012683 seconds, throughput 993698.461208
7309	[1724886899]	2000000 OPS in 2.217149 seconds, throughput 902059.356408
7309	[1724886900]	2000000 OPS in 2.012284 seconds, throughput 993895.493877
7309	[1724886901]	2000000 OPS in 2.205690 seconds, throughput 906745.734895
7309	[1724886902]	2000000 OPS in 2.009600 seconds, throughput 995222.929936
7309	[1724886903]	2000000 OPS in 2.231779 seconds, throughput 896146.078980
7309	[1724886904]	2000000 OPS in 2.010413 seconds, throughput 994820.467237
7309	[1724886906]	2000000 OPS in 2.249786 seconds, throughput 888973.440141
7309	[1724886906]	2000000 OPS in 2.019253 seconds, throughput 990465.285925
7309	[1724886908]	2000000 OPS in 2.239014 seconds, throughput 893250.332512
7309	[1724886908]	2000000 OPS in 2.170767 seconds, throughput 921333.335176
7309	[1724886910]	2000000 OPS in 2.008639 seconds, throughput 995699.077833
7309	[1724886910]	2000000 OPS in 2.247003 seconds, throughput 890074.468080
7309	[1724886912]	2000000 OPS in 2.011676 seconds, throughput 994195.884427
7309	[1724886912]	2000000 OPS in 2.257319 seconds, throughput 886006.807190
7309	[1724886914]	2000000 OPS in 2.016002 seconds, throughput 992062.507874
7309	[1724886915]	2000000 OPS in 2.256764 seconds, throughput 886224.700500
7309	[1724886916]	2000000 OPS in 2.010742 seconds, throughput 994657.693528
7309	[1724886917]	2000000 OPS in 2.239966 seconds, throughput 892870.695359
7309	[1724886918]	2000000 OPS in 2.007630 seconds, throughput 996199.498912
7309	[1724886919]	2000000 OPS in 2.269435 seconds, throughput 881276.617308
7309	[1724886920]	2000000 OPS in 2.012140 seconds, throughput 993966.622601
7309	[1724886921]	2000000 OPS in 2.120676 seconds, throughput 943095.503509
7309	[1724886922]	2000000 OPS in 2.002522 seconds, throughput 998740.588118
7309	[1724886923]	2000000 OPS in 2.144229 seconds, throughput 932736.195621
7309	[1724886924]	2000000 OPS in 2.005085 seconds, throughput 997463.947912
7309	[1724886926]	2000000 OPS in 2.154952 seconds, throughput 928094.918123
7309	[1724886926]	2000000 OPS in 2.014422 seconds, throughput 992840.626244
7309	[1724886928]	2000000 OPS in 2.153130 seconds, throughput 928880.281265
7309	[1724886928]	2000000 OPS in 2.009015 seconds, throughput 995512.726386
7309	[1724886930]	2000000 OPS in 2.136707 seconds, throughput 936019.772482
7309	[1724886930]	2000000 OPS in 2.014191 seconds, throughput 992954.491406
7309	[1724886932]	2000000 OPS in 2.046326 seconds, throughput 977361.378392
7309	[1724886932]	2000000 OPS in 2.031200 seconds, throughput 984639.621898
7309	[1724886934]	2000000 OPS in 2.084136 seconds, throughput 959630.273648
7309	[1724886934]	2000000 OPS in 2.004944 seconds, throughput 997534.095715
7309	[1724886936]	2000000 OPS in 2.029924 seconds, throughput 985258.561404
7309	[1724886936]	2000000 OPSS in 2.021672 seconds, throughput 989280.160184
7308	[1724886935]	2000000 OPS in 2.027735 seconds, throughput 986322.177208
7308	[1724886937]	2000000 OPS in 2.041492 seconds, throughput 979675.648986
--------------------------------------------------------------------------------------------------------------
Benchmark                                                    Time             CPU   Iterations UserCounters...
--------------------------------------------------------------------------------------------------------------
DBFixture/bench/50/iterations:1/real_time/threads:2      53098 ms       105940 ms            2 CompactionCPUUsage=0.874004 CompactionThroughput=495.169M Lat_Get_Avg=818.149 Lat_Get_P50=805.37 Lat_Get_P95=1.32348k Lat_Get_P99=1.80582k Lat_Put_Avg=1.30549k Lat_Put_P50=1.18291k Lat_Put_P95=1.86184k Lat_Put_P99=6.60514k items_per_second=1.88332M/s
 in 2.118567 seconds, throughput 944034.340193
7309	[1724886938]	2000000 OPS in 1.996997 seconds, throughput 1001503.757892
7309	[1724886940]	2000000 OPS in 1.837490 seconds, throughput 1088441.297640
--------------------------------------------------------------------------------------------------------------
Benchmark                                                    Time             CPU   Iterations UserCounters...
--------------------------------------------------------------------------------------------------------------
DBFixture/bench/50/iterations:1/real_time/threads:2      53980 ms       107729 ms            2 CompactionCPUUsage=0.813492 CompactionThroughput=517.273M Lat_Get_Avg=837.442 Lat_Get_P50=829.944 Lat_Get_P95=1.39292k Lat_Get_P99=1.81987k Lat_Put_Avg=1.32229k Lat_Put_P50=1.20137k Lat_Put_P95=1.8691k Lat_Put_P99=6.64934k items_per_second=1.85255M/s

real	2m14.236s
user	11m22.130s
sys	0m19.820s
